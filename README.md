# План-график веб-новелл

## Назначение и текущее состояние
Приложение помогает авторам планировать и вести статистику по публикации глав веб-новелл.
Сейчас реализованы центральное поле с календарём месяца и выдвижная левая панель с кнопками для будущих разделов.
Остальные модули находятся в разработке.

Основные блоки интерфейса:
- **Центральное поле** — ежемесячная рабочая область с колонками «План» и «Готово» для каждой работы; [Excel-пример](ПРИМЕР%20ОСНОВНОЙ%20РАБОЧЕЙ%20ОБЛАСТИ.xlsx)
- **Статистическая панель** — вводные поля и краткая статистика текущего месяца; [Excel-пример](ПРИМЕР%20ВВОДНЫХ%20ДАННЫХ.xlsx)
- **Окно «Выкладка»** — управление расписанием публикаций; [Excel-пример](ПРИМЕР%20ВЫКЛАДКИ.xlsx)
- **Аналитика** — годовая сводка по работам; [Excel-пример](ПРИМЕР%20АНАЛИТИКИ.xlsx)
- **Топы** — рейтинги месяцев, кварталов, полугодий и года; [Excel-пример](ПРИМЕР%20ТОПОВ.xlsx)
- **Настройки** — выбор темы, шрифтов и пути сохранения данных; [Excel-пример](ПРИМЕР%20ВВОДНЫХ%20ДАННЫХ.xlsx)
- **Нижняя панель** — секундомер и отображение версии приложения; [Excel-пример](ПРИМЕР%20ОСНОВНОЙ%20РАБОЧЕЙ%20ОБЛАСТИ.xlsx)

## Новые возможности
- градиентный фон;
- стеклянные темы;
- единый стиль кнопок и иконок;
- поддержка шрифта Exo 2;

## Отказ от Excel и хранение данных
Ранее проект опирался на Excel‑файлы, но теперь всё хранилище переведено на JSON.
Структура папки `data/` разделяется по годам: `data/<год>/`.
Внутри каждого года:
- `months/<месяц>.json` — рабочие данные месяца;
- `year.json` — агрегированная годовая статистика;
- `top/<период>.json` — топы за месяц, квартал, полугодие и год.
Excel‑файлы в репозитории оставлены только как исторические примеры.

## Структура проекта
- `app/` — исходный код приложения.
- `assets/` — графические ресурсы и шаблоны.
- `data/` — сохранённые данные по месяцам и годам (создаётся автоматически).
- `requirements.txt` — список зависимостей.
- `*.xlsx` — архивные примеры прежнего Excel‑подхода.

## Исторические Excel‑примеры
- [ПРИМЕР ВВОДНЫХ ДАННЫХ.xlsx](ПРИМЕР%20ВВОДНЫХ%20ДАННЫХ.xlsx)
- [ПРИМЕР ОСНОВНОЙ РАБОЧЕЙ ОБЛАСТИ.xlsx](ПРИМЕР%20ОСНОВНОЙ%20РАБОЧЕЙ%20ОБЛАСТИ.xlsx)
- [ПРИМЕР ВЫКЛАДКИ.xlsx](ПРИМЕР%20ВЫКЛАДКИ.xlsx)
- [ПРИМЕР ТОПОВ.xlsx](ПРИМЕР%20ТОПОВ.xlsx)
- [ПРИМЕР АНАЛИТИКИ.xlsx](ПРИМЕР%20АНАЛИТИКИ.xlsx)

## Дорожная карта
1. **MVP**
   - центральное поле с колонками «План» и «Готово»;
   - отметка работ «18+»;
   - базовая навигация.
2. **Выкладка**
   - отдельное окно расписания публикаций.
3. **Статистическая панель**
   - вводные поля по работам;
   - мгновенные подсчёты.
4. **Статистика**
   - годовая таблица и агрегаты по работам;
   - переключение годовых периодов.
5. **Топы**
   - рейтинги месяцев, кварталов, полугодий и года;
   - выбор произвольного периода.
6. **Автосохранение**
   - запись изменений в JSON при вводе;
   - контроль целостности файлов.
7. **Настройки**
   - темы и неоновая подсветка;
   - выбор шрифтов;
   - путь сохранения данных.
8. **Нижняя панель**
   - секундомер;
   - отображение версии приложения.
9. **Финал**
   - оптимизация и стабильный релиз.

## Требования к окружению и запуск
- [Python 3.13](https://www.python.org/downloads/).
- ОС Windows/Linux/macOS.
- Внешние зависимости (устанавливаются через `pip install -r requirements.txt`):
  - PySide6==6.9.2
  - BlurWindow==1.2.1
  - bump2version==1.0.1
  - pyinstaller==6.15.0
  - qtawesome (при использовании)
- Шрифты и иконки должны лежать в каталоге `assets/`.
- Каталог `data/` должен быть доступен для записи.
- Запуск приложения: `python run.py` (Windows, Linux и macOS). Проект проверен и поддерживается на Python 3.13.
  В Windows также можно использовать `RUN.bat`, который запускает тот же скрипт.

## Установка шрифтов и иконок
- Скачайте шрифты [Exo 2](https://fonts.google.com/specimen/Exo+2) и [Inter](https://fonts.google.com/specimen/Inter), установите их в систему и добавьте файлы в `assets/fonts/`.
- Иконки можно взять из [QtAwesome](https://github.com/spyder-ide/qtawesome) или других наборов и поместить в `assets/icons/`.

## Релиз

Для выпуска новой версии используйте скрипт `release.sh`. Он запускает тесты (если они есть), обновляет номер версии в файлах `VERSION` и `data/config.json` с помощью `bump2version`, собирает дистрибутив и пушит тег в репозиторий:

```sh
./release.sh minor
```

Аргументом передается тип обновления: `major`, `minor` или `patch` (по умолчанию `patch`).
