# Контрольный список компонентов

Документ описывает фактическое состояние интерфейса приложения "План-график" и фиксирует визуальные/поведенческие характеристики каждого элемента. При изменениях обновляйте статусы и дату проверки.

## Главный экран

### Левый сайдбар
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Корпус боковой панели | Фон берётся из `sidebar_color` (по умолчанию #1f1f23), текст ярлыков #c7c7c7; ширина 260 px в развёрнутом виде, 64 px в сложенном; углы без закругления; внутренняя верстка с отступами 8 px. | Переключение `toggle()` анимирует ширину (160 мс); при свёртывании кнопки переходят в режим только иконок; при включённом неоне цвет текста и рамки перенастраивается под accent, тени обновляются. | работает | 2025-09-16 |
| Кнопка «Свернуть панель» | StyledToolButton с иконкой из `sidebar_icon`, размер 28×28; фон — градиент `#39ff14→#2d7cdb` с углом из настроек; закругление 16 px, прозрачная рамка толщиной `neon_thickness`; текст отсутствует. | Hover: фон становится #2d2d2d, рамка и текст/иконка окрашиваются в accent; масштаб не меняется. При клике переключает ширину панели, состояние не фиксируется. При активном неоне появляется внешнее свечение (DropShadow) радиусом `neon_size`, интенсивностью `neon_intensity`. | работает | 2025-09-16 |
| Кнопка «Вводные» | Градиентный фон, радиус 16 px, текст белый, иконка 22×22 слева; стиль `ToolButtonTextBesideIcon`. | Hover: фон #2d2d2d, рамка и текст в accent; при выборе (через `activate_button`) свойство `neon_selected=True` удерживает подсветку и неоновую тень до сброса; нет изменения размера. | работает | 2025-09-16 |
| Кнопка «Выкладка» | Аналогично «Вводные»: градиент `#39ff14→#2d7cdb`, радиус 16 px, белый текст, иконка 22×22. | Hover: фон сереет (#2d2d2d), края остаются округлыми; текст и рамка переходят в accent; при наведении масштаб не меняется; при нажатии срабатывает неоновое выделение без изменения размеров. Свечение по контуру отсутствует, если неон выключен. | работает | 2025-09-16 |
| Кнопка «Аналитика» | StyledToolButton с теми же параметрами градиента и шрифтов, иконка из `ICON_TG`. | Hover/выбор работают как у других навигационных кнопок; при неоне — наружное мягкое свечение, при отключении — только изменение цвета без тени. | работает | 2025-09-16 |
| Кнопка «Топы» | StyledToolButton, иконка `ICON_TP`, текст белый, градиент и радиус 16 px. | Hover и активное состояние повторяют поведение «Выкладка»; кликом открывается диалог TopDialog, после закрытия подсветка сбрасывается. | работает | 2025-09-16 |
| Кнопка «Настройки» | StyledToolButton с иконкой шестерни, режим icon-only, градиент фон, радиус 16 px. | При наведении смена на серый фон и accent-цвет; при клике открывает SettingsDialog. Неон даёт тень вокруг кнопки при активном режиме. | работает | 2025-09-16 |

### Верхняя панель (TopBar)
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Фон TopBar | Цвет синхронизирован с `workspace_color` (по умолчанию #1e1e21); авто-заполнение палитры, отступы 8 px. | При смене темы или цвета через настройки фон обновляется сразу; в монохромном режиме цвет проходит через фильтр. | работает | 2025-09-16 |
| Кнопки «Предыдущий/Следующий» | StyledToolButton с иконками `chevron-left/right`, градиент `#39ff14→#2d7cdb`, радиус 16 px, иконки 22×22. | Hover: фон #2d2d2d, рамка и иконка окрашиваются в accent; при клике меняется месяц, анимаций масштаба нет; при неоне добавляется DropShadow. | работает | 2025-09-16 |
| Метка месяца | QLabel с жирным шрифтом `header_font`, текст белый, фон прозрачный, без рамки. | При включении неона получает внутреннюю подсветку (цвет текста accent, без тени); при смене шрифта/темы обновляется мгновенно. | работает | 2025-09-16 |
| Спинбокс года | QSpinBox без кнопок (NoButtons), паддинги 0–4 px, радиус 6 px, рамка `rgba(255,255,255,0.2)`, фон workspace. | Hover/focus: при активном неоне ставится неоновый фильтр, бордюр и текст подсвечиваются accent; при уходе фокус — возврат к прозрачной рамке; изменение значения вызывает перезагрузку месяца. | работает | 2025-09-16 |

### Центральная рабочая область
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Таблица календаря (ExcelCalendarTable) | 7 колонок (ПН–ВС), фон `workspace_color`, заголовки с padding 6 px, сетка включена; ячейки без прямого выбора, фокус отключён. | Клики не переводят выделение (поглощаются); смена месяца/года перерисовывает содержимое; фон и шрифты обновляются при изменении темы. | работает | 2025-09-16 |
| Контейнер дня | QWidget с рамкой `1px solid transparent`, радиус 8 px; верхняя метка дня на `header_font`, текст центрирован. | При неоне контейнер получает свечение при наведении, текст и рамка окрашиваются в accent; дни вне текущего месяца блокируются, фон #2a2a2a, текст #777, неон не активируется. | работает | 2025-09-16 |
| Внутренняя таблица дня | NeonTableWidget (строк по `day_rows`, 3 колонки «Работа/План/Готово»), фон `workspace_color`, заголовки с padding 6 px. | Двойной клик открывает редактор в ячейке; активное поле получает неоновую рамку (без тени) и остаётся прежнего размера; выбор ячеек очищается при потере фокуса; изменения мгновенно сохраняют месяц. | работает | 2025-09-16 |
| Синхронизация ширины колонок | Все внутренние таблицы используют общую ширину, сохранённую в QSettings. | Перетаскивание разделителя в любом дне обновляет все остальные и записывает настройки; ширина восстанавливается при следующем запуске. | работает | 2025-09-16 |

### Нижний статус-бар
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Таймер | QLabel с текстом `ДД:ЧЧ:ММ:СС`, стартует с 000:00:00:00; цвет наследует палитру. | Каждую секунду обновляется через QTimer; подсветка не применяется, фокус не получает. | работает | 2025-09-16 |
| Метка версии | QLabel `v<номер>`; текст подтягивается из файла VERSION при запуске. | Обновляется при вызове `_update_version`; при смене темы цвет следует палитре; интеракций нет. | работает | 2025-09-16 |
| Фон статус-бара | Цвет синхронизирован с `workspace_color`. | Меняется сразу после изменения цвета рабочей области в настройках. | работает | 2025-09-16 |

## Диалоги

### «Вводные данные» (StatsDialog)
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Таблица сводки | NeonTableWidget с бордером 1 px #555, радиусом 8 px; заголовки с padding 8 px, сортировка включена. | Выбор строки синхронизирует форму; редактирование напрямую запрещено, но при неоне наводка подсвечивает ячейки. Ширины колонок сохраняются в QSettings. | работает | 2025-09-16 |
| Форма ввода записи | Форм-лейаут со spinbox/lineedit/checkbox; поля имеют минимальные ширины, чекбокс «18+» без рамки. | Наведение/фокус активируют неоновый фильтр (рамка и текст в accent, без изменения размеров); значения валидируются диапазонами (0–1 000 000 000, прогресс 0–100 %). | работает | 2025-09-16 |
| Кнопки «Сохранить»/«Закрыть» | StyledPushButton, градиент `#39ff14→#2d7cdb`, радиус 16 px, иконки `save` и `x`, фиксированный размер по sizeHint. | Hover: фон #2d2d2d, текст и иконка в accent; при клике размеры не меняются; при неоне добавляется мягкая тень. | работает | 2025-09-16 |

### «Выкладка» (ReleaseDialog)
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Таблица расписания | QTableWidget на 31 строку, 4 колонки («День», «Работа», «Глав», «Время»), бордер 1 px #555, радиус 8 px; первый столбец только для чтения. | Наведение и viewport получают неоновый фильтр при активной подсветке; редактирование остальных колонок доступно; при изменении значений выполняется автосохранение. | работает | 2025-09-16 |
| Кнопки «Сохранить»/«Закрыть» | StyledPushButton с градиентом, радиус 16 px, иконки `save`/`x`. | Hover и клик ведут себя как в StatsDialog; при неоне — тень с параметрами из настроек. | работает | 2025-09-16 |

### «Аналитика» (AnalyticsDialog)
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Спинбокс года | QSpinBox с кнопками Up/Down, фиксированная ширина; наследует палитру. | При неоне получает фильтр; изменение значения перезагружает таблицу. | работает | 2025-09-16 |
| Таблица показателей | NeonTableWidget с бордером 1 px #555, радиус 8 px; столбцы — месяцы + «Итого за год», строки — 13 индикаторов. | Ячейки большинства строк read-only; поля «Камса» и «Потрачено на софт» редактируемы, на вводе происходит перерасчёт сумм и обновление столбца «Чистыми». | работает | 2025-09-16 |
| Кнопки «Сохранить»/«Закрыть» | StyledPushButton, градиент, радиус 16 px, иконки `save`/`x`. | Hover/клик аналогичны другим диалогам; при неоне — подсветка и тень. | работает | 2025-09-16 |

### «Топы» (TopDialog)
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Панель выбора периода | Спинбокс года, два комбобокса (режим и период), кнопка «Сформировать»; все элементы с отступами в горизонтальном лейауте. | Hover/focus активируют неоновый фильтр на спинбоксе и комбобоксах; выбор режима пересобирает список периодов; кнопка запускает пересчёт таблицы. | работает | 2025-09-16 |
| Таблица результатов | NeonTableWidget, бордер 1 px #555, радиус 8 px, сортировка включена; колонки содержат позицию, работу, статусы, метрики. | При пересчёте таблица перезаполняется и добавляет итоговую строку; ширины колонок сохраняются; при неоне подсвечиваются элементы при наведении. | работает | 2025-09-16 |
| Кнопки диалога | StyledPushButton «Сохранить»/«Закрыть» с иконками. | Поведение идентично другим диалогам; сохранение записывает JSON топов. | работает | 2025-09-16 |

## Настройки (SettingsDialog)

### Вкладка «Интерфейс»
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Селектор accent-цвета | QComboBox с иконками-плашками 16×16, предустановки зелёный/красный/синий/жёлтый/фиолетовый + пункт «Другой…». | Выбор «Другой…» открывает QColorDialog; выбранный цвет заменяет иконку; изменение немедленно обновляет accent и неоновую палитру. | работает | 2025-09-16 |
| Кнопки выбора цвета рабочей и боковой областей | QPushButton со стилем `background:<цвет>; border:1px solid #555; border-radius:8px`; текст скрыт. | Hover/focus не меняют цвет; клик вызывает QColorDialog; после подтверждения обновляются фон календаря/статус-бара/сайдбара. | работает | 2025-09-16 |
| Кнопки градиента (1 и 2) | QPushButton с заливкой соответствующего цвета, радиус 8 px. | Клик открывает QColorDialog; после выбора градиент кнопок и всех StyledButton пересчитывается; при неоне влияние на свечение сохраняется. | работает | 2025-09-16 |
| Слайдер угла градиента | Горизонтальный QSlider (0–360°) + QLabel со значением. | Перемещение обновляет текст и сохраняет конфиг; влияние видно на всех градиентных кнопках без дополнительных кликов. | работает | 2025-09-16 |
| Группа «Неон» (чекбокс и три spinbox) | QGroupBox с чекбоксом включения и spinbox для размера, толщины, интенсивности; стиль spinbox: фон #2d2d2d, радиус 8 px, бордер #555. | Изменения сохраняются немедленно; при включении — на всех контролах появляются неоновые тени с заданным радиусом и яркостью; при выключении подсветка удаляется. | работает | 2025-09-16 |
| FontComboBox (заголовки, текст, боковая панель) | QFontComboBox, текущие семейства подхватываются из конфигурации. | Выбор шрифтов моментально сохраняется; заголовки таблиц и sidebar обновляются без перезапуска. | работает | 2025-09-16 |
| Поле пути сохранения + кнопка «…» | QLineEdit с текущим путём, StyledPushButton «…». | Редактирование вручную сохраняет путь после потери фокуса; кнопка открывает QFileDialog, выбранный путь подставляется и записывается. | работает | 2025-09-16 |

### Вкладка «Иконки»
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Селектор иконки боковой панели | QComboBox с превью иконок из `assets`; ширина растягивается вместе с лейаутом. | Выбор обновляет `sidebar_icon`; кнопка «Обзор…» позволяет добавить внешний файл, который тут же попадает в список. | работает | 2025-09-16 |
| Селектор иконки приложения | QComboBox аналогичный боковой панели. | Смена иконки обновляет значок окна; «Обзор…» добавляет кастомный файл. | работает | 2025-09-16 |
| Подсказка о размере | QLabel «Размер иконок: 20×20 px», центрирован. | Интерактивности нет; цвет шрифта следует палитре. | работает | 2025-09-16 |

### Общие настройки диалога
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Спинбокс «Строк на день» | QSpinBox без стрелок, стиль как у неоновых spinbox, значение 1–20. | Изменение обновляет количество строк во всех дневных таблицах сразу и сохраняется в конфиг. | работает | 2025-09-16 |
| Кнопки «Сохранить»/«Отмена» | StyledPushButton с иконками `save`/`x`, радиус 16 px. | Hover/клик аналогичны другим градиентным кнопкам; при неоне подсветка и тень активны. | работает | 2025-09-16 |

## Темы и эффекты
| Элемент | Статичное состояние | Поведение при взаимодействии | Статус | Дата последней проверки |
| --- | --- | --- | --- | --- |
| Градиентная тема кнопок | Базовые цвета `gradient_colors` (дефолт `#39ff14`, `#2d7cdb`), угол `gradient_angle`. | Изменяется через настройки; применяется ко всем StyledPush/ToolButton, включая sidebar, TopBar и диалоги. | работает | 2025-09-16 |
| Неоновая подсветка | Управляется флагом `neon`; при включении добавляются DropShadow-эффекты с радиусом `neon_size`, толщиной рамки `neon_thickness`, интенсивностью `neon_intensity`. | Hover/фокус на поддерживаемых контролах активирует свечение; при отключении эффекты удаляются и стили откатываются. | работает | 2025-09-16 |
| Шрифтовая тема | `header_font`, `text_font`, `sidebar_font` распространяются через theme_manager. | Изменение в настройках немедленно перестраивает все виджеты (включая открытые диалоги) и сохраняется. | работает | 2025-09-16 |

